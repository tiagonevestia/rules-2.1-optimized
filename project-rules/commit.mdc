---
type: "always_apply"
description: "Fluxo de trabalho de commit unificado e abrangente (padrÃ£o + rÃ¡pido + IA)"
globs: ["**/*"]
priority: 680
alwaysApply: true
integrations: ["super-brain-system", "code-quality-check", "changelog-management", "mcp-intelligent-strategy", "intelligent-project-management"]

# Gerenciamento de VersÃ£o
version: "2.6.0"
last_updated: "2025-10-19"
author: "system"
status: "stable"
compatibility: "rule-system >= 2.0"

changelog:
  - version: "2.6.0"
    date: "2025-10-19"
    changes:
      - "AdiÃ§Ã£o do sistema de gerenciamento de versÃ£o"
      - "PadronizaÃ§Ã£o da estrutura do arquivo de regras"
---

# ğŸ“ Commit Unified Workflow - Fluxo de Trabalho de Commit Unificado

Um fluxo de trabalho de commit abrangente e unificado: suporta tanto commits padronizados quanto commits rÃ¡pidos com geraÃ§Ã£o inteligente de mensagens por IA; integra portÃµes de qualidade e logs de alteraÃ§Ãµes, adaptando-se a diferentes normas de equipe e fases do projeto.

## ğŸš€ Commands - Comandos Inteligentes (Unificado)

- `/commit` - Commit padrÃ£o (inclui verificaÃ§Ãµes prÃ©-commit)
- `/commit --fast` - Modo de commit rÃ¡pido (stage inteligente + geraÃ§Ã£o de mensagem por IA)
- `/commit-fast` - Alias para commit rÃ¡pido (equivalente a `/commit --fast`)
- `/commit --no-verify` - Pular verificaÃ§Ãµes prÃ©-commit (cenÃ¡rios de emergÃªncia)
- `/commit --analyze` - Modo de anÃ¡lise profunda (anÃ¡lise detalhada de alteraÃ§Ãµes e sugestÃµes)
- `/commit --template <type>` - Especificar tipo de modelo (como feat/fix/docs/refactor etc.)
- `/commit --smart-stage` - Stage inteligente de arquivos relevantes (exclui automaticamente arquivos temporÃ¡rios/configuraÃ§Ã£o)

Nota: MantÃ©m todos os hÃ¡bitos de comando existentes, fornecendo ao mesmo tempo uma entrada parametrizada unificada para fÃ¡cil integraÃ§Ã£o com scripts e ferramentas.

## ğŸ§  AI Intelligence Core - NÃºcleo de InteligÃªncia IA

### CondiÃ§Ãµes de AtivaÃ§Ã£o Inteligente
```yaml
CenÃ¡rios de AtivaÃ§Ã£o AutomÃ¡tica:
  - DetecÃ§Ã£o de mÃºltiplas alteraÃ§Ãµes de arquivos e necessidade de commit rÃ¡pido
  - UsuÃ¡rio executa `/commit --fast` ou `/commit-fast`
  - Sistema Super Brain recomenda fluxo de commit rÃ¡pido
  - Projeto estÃ¡ em uma fase que requer commits frequentes

DimensÃµes de AnÃ¡lise Inteligente:
  - Tipo e quantidade de arquivos alterados (30%)
  - Complexidade da alteraÃ§Ã£o de cÃ³digo (25%)
  - Fase atual do projeto (20%)
  - PadrÃµes histÃ³ricos de commit (15%)
  - UrgÃªncia de tempo (10%)
```

## âœ¨ AI-Powered Features - Recursos Impulsionados por IA

### ğŸ¤– GeraÃ§Ã£o Inteligente de Mensagem de Commit
```yaml
Motor de AnÃ¡lise de IA:
  AnÃ¡lise de AlteraÃ§Ã£o de Arquivo:
    - IdentificaÃ§Ã£o automÃ¡tica do tipo de alteraÃ§Ã£o (feat/fix/docs/refactor, etc.)
    - AnÃ¡lise do escopo de impacto e importÃ¢ncia da alteraÃ§Ã£o
    - DetecÃ§Ã£o de padrÃµes de cÃ³digo e melhores prÃ¡ticas
    - IdentificaÃ§Ã£o de impactos potenciais de seguranÃ§a e performance

  GeraÃ§Ã£o Inteligente de Mensagens:
    - GeraÃ§Ã£o automÃ¡tica de tÃ­tulo descritivo com base no conteÃºdo da alteraÃ§Ã£o
    - SeleÃ§Ã£o inteligente do emoji e tipo mais adequados
    - AdiÃ§Ã£o automÃ¡tica de informaÃ§Ãµes de escopo (scope)
    - GeraÃ§Ã£o de descriÃ§Ã£o detalhada da alteraÃ§Ã£o (opcional)

  PercepÃ§Ã£o de Contexto:
    - ConsideraÃ§Ã£o do tipo de projeto e stack tecnolÃ³gica
    - AnÃ¡lise de padrÃµes histÃ³ricos de commit
    - IntegraÃ§Ã£o de informaÃ§Ãµes da fase de gerenciamento do projeto
    - ReferÃªncia Ã s normas de commit da equipe
```

### ğŸ”§ OrquestraÃ§Ã£o AutomÃ¡tica de Ferramentas MCP (Opcional)
```yaml
AutomaÃ§Ã£o PrÃ©-commit:
  - SeleÃ§Ã£o inteligente de ferramentas de verificaÃ§Ã£o de cÃ³digo relevantes
  - ExecuÃ§Ã£o automÃ¡tica de suÃ­tes de teste apropriadas
  - ExecuÃ§Ã£o de formataÃ§Ã£o e limpeza de cÃ³digo
  - GeraÃ§Ã£o ou atualizaÃ§Ã£o de documentaÃ§Ã£o relacionada

Garantia de Qualidade:
  - Varredura de seguranÃ§a automÃ¡tica (se aplicÃ¡vel)
  - AvaliaÃ§Ã£o de impacto de performance
  - VerificaÃ§Ã£o de dependÃªncias
  - ValidaÃ§Ã£o de compatibilidade de versÃ£o

OtimizaÃ§Ã£o Inteligente:
  - SeleÃ§Ã£o de ferramentas baseada no tipo de projeto
  - Ajuste do nÃ­vel de verificaÃ§Ã£o baseado no escopo da alteraÃ§Ã£o
  - ExecuÃ§Ã£o paralela para aumentar a eficiÃªncia
  - Cache inteligente e verificaÃ§Ã£o incremental
```

## âœ¨ Features - Funcionalidades

- Executa verificaÃ§Ãµes prÃ©-commit por padrÃ£o (lint, build, geraÃ§Ã£o de documentos)
- Se nÃ£o houver arquivos em stage, faz stage automÃ¡tico
- Usa formato de commit convencional e emojis descritivos
- Sugere dividir commits para diferentes focos

Nota: No modo rÃ¡pido, seleciona automaticamente o tipo e modelo de commit mais adequados com base nas alteraÃ§Ãµes e suporta a geraÃ§Ã£o automÃ¡tica de descriÃ§Ãµes detalhadas.

## ğŸ“‹ Commit Types - Tipos de Commit (Unificado)

| Tipo | Emoji | DescriÃ§Ã£o | Exemplo |
|------|----------|------|------|
| **feat** | âœ¨ | Nova funcionalidade | `âœ¨ feat: Adicionar funcionalidade de autenticaÃ§Ã£o de usuÃ¡rio` |
| **fix** | ğŸ› | CorreÃ§Ã£o de bug | `ğŸ› fix: Corrigir erro de validaÃ§Ã£o na pÃ¡gina de login` |
| **docs** | ğŸ“ | AlteraÃ§Ã£o de documentaÃ§Ã£o | `ğŸ“ docs: Atualizar documentaÃ§Ã£o da API` |
| **refactor** | â™»ï¸ | RefatoraÃ§Ã£o de cÃ³digo | `â™»ï¸ refactor: Refatorar camada de serviÃ§o de usuÃ¡rio` |
| **style** | ğŸ¨ | FormataÃ§Ã£o de cÃ³digo | `ğŸ¨ style: Formatar cÃ³digo, adicionar ponto e vÃ­rgula ausente` |
| **perf** | âš¡ï¸ | Melhoria de performance | `âš¡ï¸ perf: Otimizar performance de consulta ao banco de dados` |
| **test** | âœ… | Relacionado a testes | `âœ… test: Adicionar teste unitÃ¡rio de registro de usuÃ¡rio` |
| **chore** | ğŸ§‘â€ğŸ’» | ConfiguraÃ§Ã£o de ferramentas | `ğŸ§‘â€ğŸ’» chore: Atualizar configuraÃ§Ã£o de build` |
| **wip** | ğŸš§ | Trabalho em progresso | `ğŸš§ wip: Desenvolvimento de funcionalidade de permissÃ£o de usuÃ¡rio` |
| **remove** | ğŸ”¥ | RemoÃ§Ã£o de cÃ³digo | `ğŸ”¥ remove: Remover interface de API obsoleta` |
| **hotfix** | ğŸš‘ | CorreÃ§Ã£o urgente | `ğŸš‘ hotfix: Corrigir problema de login em produÃ§Ã£o` |
| **security** | ğŸ”’ | Melhoria de seguranÃ§a | `ğŸ”’ security: Fortalecer mecanismo de criptografia de senha` |

### Tipos Estendidos (Reconhecimento AutomÃ¡tico por IA)

```yaml
Desenvolvimento de Funcionalidade:
  - âœ¨ feat: AdiÃ§Ã£o de nova funcionalidade
  - ğŸ‰ init: InicializaÃ§Ã£o do projeto
  - ğŸš€ deploy: Relacionado a deploy
  - ğŸ’« enhancement: Melhoria de funcionalidade

CorreÃ§Ã£o de Problemas:
  - ğŸ› fix: CorreÃ§Ã£o de bug convencional
  - ğŸš‘ hotfix: CorreÃ§Ã£o urgente
  - ğŸ©¹ patch: Pequeno patch
  - ğŸ”§ config: CorreÃ§Ã£o de configuraÃ§Ã£o

Qualidade de CÃ³digo:
  - â™»ï¸ refactor: RefatoraÃ§Ã£o de cÃ³digo
  - ğŸ¨ style: FormataÃ§Ã£o de cÃ³digo
  - âš¡ï¸ perf: OtimizaÃ§Ã£o de performance
  - ğŸ§¹ cleanup: Limpeza de cÃ³digo

DocumentaÃ§Ã£o e Testes:
  - ğŸ“ docs: AtualizaÃ§Ã£o de documentaÃ§Ã£o
  - âœ… test: Relacionado a testes
  - ğŸ“š tutorial: AtualizaÃ§Ã£o de tutorial
  - ğŸ’¡ example: CÃ³digo de exemplo

Ferramentas e ConfiguraÃ§Ã£o:
  - ğŸ§‘â€ğŸ’» chore: ConfiguraÃ§Ã£o de ferramentas
  - ğŸ“¦ deps: AtualizaÃ§Ã£o de dependÃªncias
  - ğŸ”¨ build: Relacionado a build
  - ğŸ”§ tools: AtualizaÃ§Ã£o de ferramentas
```

## ğŸ“‹ Process - Processo de Commit

### 1. Verificar AlteraÃ§Ãµes em Stage
```bash
git status
```

### 2. Se nÃ£o houver alteraÃ§Ãµes em stage, revisar e adicionar arquivos apropriados
```bash
git add <files>
# Ou adicionar todas as alteraÃ§Ãµes
git add .
```

### 3. Executar VerificaÃ§Ãµes PrÃ©-commit (a menos que use --no-verify)
- VerificaÃ§Ã£o de cÃ³digo (lint)
- ValidaÃ§Ã£o de build
- ExecuÃ§Ã£o de testes
- GeraÃ§Ã£o de documentaÃ§Ã£o

### 4. Analisar AlteraÃ§Ãµes para Determinar Tipo de Commit
- Verificar arquivos e conteÃºdos modificados
- Determinar tipo principal de alteraÃ§Ã£o
- Considerar se Ã© necessÃ¡rio dividir em mÃºltiplos commits

### 5. Gerar Mensagem de Commit Descritiva
- Usar formato: `emoji type(scope): description`
- Incluir escopo (se aplicÃ¡vel): `type(scope): description`
- Adicionar corpo para alteraÃ§Ãµes complexas, explicando o motivo
- Referenciar issues/PRs relacionados

### 6. Executar Commit (PadrÃ£o)
```bash
git commit -m "âœ¨ feat(auth): Adicionar middleware de autenticaÃ§Ã£o JWT

- Implementar geraÃ§Ã£o e validaÃ§Ã£o de token JWT
- Adicionar middleware de autenticaÃ§Ã£o para proteÃ§Ã£o de rota
- Atualizar modelo de usuÃ¡rio para incluir campo de token

Closes #123"
```

### 7. Commit RÃ¡pido (Opcional)
Ao usar `/commit --fast` ou `/commit-fast`:
```yaml
SimplificaÃ§Ã£o do Fluxo:
  - Stage automÃ¡tico de alteraÃ§Ãµes relevantes (exclusÃ£o inteligente de arquivos temporÃ¡rios/configuraÃ§Ã£o)
  - Executar verificaÃ§Ãµes prÃ©-commit mÃ­nimas necessÃ¡rias (configurÃ¡vel)
  - IA gera tÃ­tulo e descriÃ§Ã£o do commit (confirmaÃ§Ã£o interativa ou totalmente automÃ¡tico)
  - Executar commit diretamente e registrar metadados
```

## âœ… Best Practices - Melhores PrÃ¡ticas

### PrincÃ­pios de Commit
- **Atomicidade** - Manter commits focados e atÃ´micos
- **Tom imperativo** - Usar "Adicionar funcionalidade" em vez de "Funcionalidade adicionada"
- **Explicar o porquÃª** - Explicar o motivo, nÃ£o apenas o que
- **Referenciar issues** - Referenciar issues/PRs quando relevante
- **Dividir alteraÃ§Ãµes** - Separar alteraÃ§Ãµes nÃ£o relacionadas em commits individuais

### IntegraÃ§Ã£o com Super Brain (Sugerido)
```yaml
RecomendaÃ§Ã£o Inteligente:
  - Recomendar frequÃªncia e momento de commit com base na fase do projeto
  - Recomendar aÃ§Ãµes subsequentes (testes/documentaÃ§Ã£o/changelog)
Aprendizado e OtimizaÃ§Ã£o:
  - Registrar preferÃªncias de commit e padrÃµes histÃ³ricos
  - Otimizar precisÃ£o da geraÃ§Ã£o de mensagens por IA
```

### Formato da Mensagem
```
<emoji> <type>(<scope>): <description>

<body>

<footer>
```

### Exemplos de Mensagens de Commit

**AdiÃ§Ã£o de funcionalidade simples:**
```
âœ¨ feat: Adicionar funcionalidade de upload de avatar do usuÃ¡rio
```

**CorreÃ§Ã£o com escopo:**
```
ğŸ› fix(api): Corrigir erro de paginaÃ§Ã£o na interface de consulta de usuÃ¡rio
```

**AlteraÃ§Ã£o complexa com corpo:**
```
â™»ï¸ refactor(database): Refatorar camada de acesso a dados do usuÃ¡rio

- Migrar consultas SQL brutas para ORM
- Adicionar configuraÃ§Ã£o de pool de conexÃµes de banco de dados
- Otimizar performance de consulta e uso de memÃ³ria

Aumento de performance em cerca de 30%, manutenibilidade do cÃ³digo significativamente melhorada

Closes #456
```

## ğŸ”§ Pre-commit Checks - VerificaÃ§Ãµes PrÃ©-commit

### VerificaÃ§Ãµes Executadas Automaticamente
1. **VerificaÃ§Ã£o de cÃ³digo** - ESLint, Prettier, etc.
2. **VerificaÃ§Ã£o de tipos** - TypeScript, mypy, etc.
3. **ExecuÃ§Ã£o de testes** - Testes unitÃ¡rios e de integraÃ§Ã£o
4. **ValidaÃ§Ã£o de build** - Garantir que o cÃ³digo pode ser compilado com sucesso
5. **GeraÃ§Ã£o de documentaÃ§Ã£o** - Atualizar documentaÃ§Ã£o da API automaticamente

Dica: No modo rÃ¡pido, Ã© possÃ­vel rebaixar ou pular algumas verificaÃ§Ãµes (distinto de `--no-verify`, ainda recomenda-se manter verificaÃ§Ãµes essenciais).

### Pular VerificaÃ§Ãµes
```bash
# Pular verificaÃ§Ãµes prÃ©-commit em caso de emergÃªncia
git commit --no-verify -m "ğŸš‘ hotfix: CorreÃ§Ã£o urgente de problema em produÃ§Ã£o"
```

## ğŸ“‹ Checklist - Lista de VerificaÃ§Ã£o

### Antes do Commit
- [ ] AlteraÃ§Ãµes revisadas e testadas
- [ ] Mensagem de commit clara e descritiva
- [ ] Usar tipo de commit e emoji corretos
- [ ] Incluir escopo relevante
- [ ] Referenciar issue/PR relevante

### ApÃ³s o Commit
- [ ] Push para repositÃ³rio remoto
- [ ] Verificar status do pipeline CI/CD
- [ ] Atualizar documentaÃ§Ã£o relacionada
- [ ] Notificar membros da equipe (se necessÃ¡rio)

## ğŸ§  Super Brain Integration - IntegraÃ§Ã£o com Super Brain

Sinergia com o sistema Super Brain:
- Perceber fase e contexto, otimizar estratÃ©gia de commit e geraÃ§Ã£o de mensagens
- Registro e aprendizado automÃ¡ticos, melhorando sugestÃµes e precisÃ£o futuras
- IntegraÃ§Ã£o com gerenciamento de projetos inteligente, verificaÃ§Ã£o de qualidade e changelog

## ğŸ¯ Integration - IntegraÃ§Ã£o

### Git Hooks
```bash
# Instalar hooks de prÃ©-commit
npm install --save-dev husky lint-staged

# Configurar package.json
{
  "husky": {
    "hooks": {
      "pre-commit": "lint-staged"
    }
  },
  "lint-staged": {
    "*.{js,ts,vue}": ["eslint --fix", "git add"],
    "*.{css,scss}": ["stylelint --fix", "git add"]
  }
}
```

### IntegraÃ§Ã£o com CI/CD
- Acionar build e testes automaticamente
- VerificaÃ§Ã£o de qualidade de cÃ³digo
- Deploy automÃ¡tico para ambiente de teste
- Gerar changelog
