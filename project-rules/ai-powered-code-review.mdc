---
type: "project_rule"
description: "Regra de revis√£o de c√≥digo inteligente baseada em IA - An√°lise de qualidade de c√≥digo baseada em aprendizado de m√°quina e fluxo de revis√£o automatizado"
globs: ["**/*"]
alwaysApply: false
priority: 500

# Gerenciamento de Vers√£o
version: "2.6.0"
last_updated: "2025-10-19"
author: "system"
status: "stable"
compatibility: "rule-system >= 2.0"

changelog:
  - version: "2.6.0"
    date: "2025-10-19"
    changes:
      - "Adicionado sistema de gerenciamento de vers√£o"
      - "Padronizada estrutura do arquivo de regra"
---

# üîç Regra de Revis√£o de C√≥digo Inteligente Baseada em IA

## üéØ Conceito Central

Baseado nas mais recentes tecnologias de revis√£o de c√≥digo por IA, alcan√ßando controle de qualidade e fluxos de revis√£o inteligentes e automatizados.

### ü§ñ Motor de Revis√£o Inteligente
```yaml
Capacidades Principais:
  Aprimoramento de An√°lise Est√°tica:
    - Compreens√£o sem√¢ntica e an√°lise de contexto
    - Identifica√ß√£o e avalia√ß√£o de padr√µes de projeto
    - Verifica√ß√£o de consist√™ncia arquitetural
    - Previs√£o de impacto na performance
  
  An√°lise de Comportamento Din√¢mico:
    - Previs√£o de comportamento em tempo de execu√ß√£o
    - An√°lise de padr√µes de uso de recursos
    - Verifica√ß√£o de seguran√ßa de concorr√™ncia
    - Integridade do tratamento de exce√ß√µes
  
  Aprendizado e Adapta√ß√£o:
    - Aprendizado do estilo de codifica√ß√£o da equipe
    - Identifica√ß√£o de padr√µes hist√≥ricos de defeitos
    - Aplica√ß√£o autom√°tica de melhores pr√°ticas
    - Gera√ß√£o de sugest√µes personalizadas
```

## üöÄ Fluxo de Revis√£o Inteligente

### üìã Mecanismo de Disparo Autom√°tico
```yaml
Condi√ß√µes de Disparo:
  Disparo por Commit:
    - Disparo autom√°tico a cada commit
    - An√°lise de diferen√ßas e avalia√ß√£o de impacto
    - Classifica√ß√£o autom√°tica de n√≠vel de risco
    - Ordena√ß√£o de prioridade de revis√£o
  
  Disparo por Pull Request:
    - Revis√£o completa na cria√ß√£o do PR
    - An√°lise do escopo de impacto das mudan√ßas
    - Previs√£o de riscos de conflito
    - Gera√ß√£o de sugest√µes de mesclagem (merge)
  
  Revis√£o Peri√≥dica:
    - Varredura peri√≥dica de d√≠vida t√©cnica
    - An√°lise de tend√™ncias de qualidade de c√≥digo
    - Verifica√ß√£o peri√≥dica de vulnerabilidades de seguran√ßa
    - Detec√ß√£o de regress√£o de performance
```

### üéØ Estrat√©gia de Revis√£o em M√∫ltiplos N√≠veis
```yaml
N√≠veis de Revis√£o:
  L1 - Sintaxe e Formata√ß√£o:
    Grau de Automa√ß√£o: 100%
    Conte√∫do da Verifica√ß√£o:
      - Normas de formata√ß√£o de c√≥digo
      - Verifica√ß√£o de conven√ß√µes de nomenclatura
      - Integridade de coment√°rios
      - Sincroniza√ß√£o de documenta√ß√£o
    Forma de Tratamento: Corre√ß√£o autom√°tica + Notifica√ß√£o
  
  L2 - L√≥gica e Estrutura:
    Grau de Automa√ß√£o: 80%
    Conte√∫do da Verifica√ß√£o:
      - Detec√ß√£o de erros l√≥gicos
      - An√°lise de complexidade de c√≥digo
      - Identifica√ß√£o de c√≥digo duplicado
      - Verifica√ß√£o de depend√™ncias
    Forma de Tratamento: Sugest√£o inteligente + Confirma√ß√£o manual
  
  L3 - Arquitetura e Design:
    Grau de Automa√ß√£o: 60%
    Conte√∫do da Verifica√ß√£o:
      - Aplica√ß√£o de padr√µes de projeto
      - Consist√™ncia arquitetural
      - Racionalidade do design de interface
      - Avalia√ß√£o de extensibilidade
    Forma de Tratamento: Sugest√£o de especialistas + Discuss√£o da equipe

  L4 - Neg√≥cios e Seguran√ßa:
    Grau de Automa√ß√£o: 40%
    Conte√∫do da Verifica√ß√£o:
      - Corre√ß√£o da l√≥gica de neg√≥cios
      - Detec√ß√£o de vulnerabilidades de seguran√ßa
      - Avalia√ß√£o de impacto na performance
      - Verifica√ß√£o de conformidade
    Forma de Tratamento: Revis√£o de especialistas + Confirma√ß√£o da equipe de seguran√ßa

## üîç Dimens√µes de An√°lise Inteligente

### üìä An√°lise de Qualidade de C√≥digo
```yaml
Dimens√µes de Qualidade:
  An√°lise de Legibilidade:
    - Pontua√ß√£o de clareza do c√≥digo
    - Avalia√ß√£o da qualidade dos coment√°rios
    - Racionalidade da nomenclatura de vari√°veis
    - An√°lise de complexidade de fun√ß√µes
    Peso da Pontua√ß√£o: 25%

  An√°lise de Manutenibilidade:
    - Verifica√ß√£o do grau de acoplamento de m√≥dulos
    - An√°lise da taxa de duplica√ß√£o de c√≥digo
    - Avalia√ß√£o do escopo de impacto de altera√ß√µes
    - Verifica√ß√£o da cobertura de testes
    Peso da Pontua√ß√£o: 30%

  An√°lise de Confiabilidade:
    - Integridade do tratamento de exce√ß√µes
    - Verifica√ß√£o de condi√ß√µes de contorno (boundary)
    - Valida√ß√£o de seguran√ßa de concorr√™ncia
    - Verifica√ß√£o de gerenciamento de recursos
    Peso da Pontua√ß√£o: 25%

  An√°lise de Performance:
    - Avalia√ß√£o da complexidade de algoritmos
    - Efici√™ncia do uso de recursos
    - Verifica√ß√£o da estrat√©gia de cache
    - Otimiza√ß√£o de consultas ao banco de dados
    Peso da Pontua√ß√£o: 20%
```

### üõ°Ô∏è An√°lise de Seguran√ßa
```yaml
Verifica√ß√µes de Seguran√ßa:
  Valida√ß√£o de Entrada:
    - Detec√ß√£o de riscos de inje√ß√£o SQL
    - Verifica√ß√£o de prote√ß√£o contra ataques XSS
    - Valida√ß√£o de par√¢metros de entrada
    - Verifica√ß√£o de seguran√ßa de tipos de dados

  Controle de Permiss√µes:
    - Verifica√ß√£o de controle de acesso
    - Riscos de eleva√ß√£o de privil√©gio
    - Auditoria de opera√ß√µes sens√≠veis
    - Valida√ß√£o de mecanismos de autentica√ß√£o

  Prote√ß√£o de Dados:
    - Identifica√ß√£o de dados sens√≠veis
    - Verifica√ß√£o de algoritmos de criptografia
    - Seguran√ßa na transmiss√£o de dados
    - Valida√ß√£o de seguran√ßa de armazenamento

  Seguran√ßa de Depend√™ncias:
    - Varredura de vulnerabilidades em bibliotecas de terceiros
    - Verifica√ß√£o de seguran√ßa de vers√µes de depend√™ncias
    - Conformidade de licen√ßas
    - Avalia√ß√£o de seguran√ßa da cadeia de suprimentos
```

### ‚ö° An√°lise de Performance
```yaml
Dimens√µes de Performance:
  Efici√™ncia de Algoritmos:
    - An√°lise de complexidade de tempo
    - Avalia√ß√£o de complexidade de espa√ßo
    - Racionalidade na escolha de algoritmos
    - Sugest√µes de otimiza√ß√£o de estruturas de dados

  Uso de Recursos:
    - Padr√µes de uso de mem√≥ria
    - Efici√™ncia de uso de CPU
    - Otimiza√ß√£o de opera√ß√µes de E/S (I/O)
    - Otimiza√ß√£o de requisi√ß√µes de rede

  Performance de Concorr√™ncia:
    - Verifica√ß√£o de seguran√ßa de threads
    - An√°lise de conten√ß√£o de travas (locks)
    - Otimiza√ß√£o de processamento ass√≠ncrono
    - Avalia√ß√£o do grau de concorr√™ncia

  Estrat√©gia de Cache:
    - Racionalidade do uso de cache
    - Estrat√©gias de invalida√ß√£o de cache
    - Prote√ß√£o contra cache penetration
    - Verifica√ß√£o de consist√™ncia de cache
```

## üé® Gera√ß√£o de Sugest√µes Inteligentes

### üí° Sugest√µes Personalizadas
```yaml
Estrat√©gia de Gera√ß√£o de Sugest√µes:
  Baseado no Perfil do Desenvolvedor:
    - Avalia√ß√£o do n√≠vel de habilidade
    - An√°lise de h√°bitos de codifica√ß√£o
    - Identifica√ß√£o de prefer√™ncias de aprendizado
    - Recomenda√ß√µes de foco em melhorias

  Baseado nas Caracter√≠sticas do Projeto:
    - Caracter√≠sticas do tipo de projeto
    - Caracter√≠sticas da stack tecnol√≥gica
    - Requisitos do dom√≠nio de neg√≥cios
    - Modelo de colabora√ß√£o da equipe

  Baseado em Dados Hist√≥ricos:
    - Padr√µes de erros comuns
    - Casos de melhoria bem-sucedidos
    - Aplica√ß√£o de melhores pr√°ticas
    - Feedback de avalia√ß√£o de efic√°cia
```

### üîß Capacidade de Corre√ß√£o Autom√°tica
```yaml
Escopo de Corre√ß√£o Autom√°tica:
  Problemas de Formata√ß√£o:
    - Formata√ß√£o de c√≥digo
    - Organiza√ß√£o de instru√ß√µes de importa√ß√£o
    - Ajuste de linhas vazias e indenta√ß√£o
    - Padroniza√ß√£o do formato de coment√°rios
    Aplica√ß√£o Autom√°tica: Sim

  Problemas L√≥gicos Simples:
    - Limpeza de vari√°veis n√£o utilizadas
    - Sugest√µes de refatora√ß√£o simples
    - Otimiza√ß√£o de convers√£o de tipos
    - Simplifica√ß√£o de express√µes condicionais
    Aplica√ß√£o Autom√°tica: Opcional

  Quest√µes de Seguran√ßa:
    - Corre√ß√µes de seguran√ßa b√°sicas
    - Adi√ß√£o de valida√ß√£o de entrada
    - Aperfei√ßoamento do tratamento de exce√ß√µes
    - Verifica√ß√£o de libera√ß√£o de recursos
    Aplica√ß√£o Autom√°tica: Necessita Confirma√ß√£o

  Otimiza√ß√£o de Performance:
    - Otimiza√ß√µes de performance simples
    - Sugest√µes de estrat√©gia de cache
    - Sugest√µes de otimiza√ß√£o de consulta
    - Sugest√µes de melhoria de algoritmos
    Aplica√ß√£o Autom√°tica: Necessita Avalia√ß√£o
```

## üìä Relat√≥rios e M√©tricas Inteligentes

### üìà Indicadores de Medi√ß√£o de Qualidade
```yaml
Indicadores Principais:
  Pontua√ß√£o de Qualidade de C√≥digo:
    Forma de C√°lculo: M√©dia ponderada
    Frequ√™ncia de Atualiza√ß√£o: Tempo real
    Tend√™ncia Hist√≥rica: Mantida por 6 meses
    Compara√ß√£o de Refer√™ncia: M√©dia da equipe/ind√∫stria

  √çndice de D√≠vida T√©cnica:
    Dimens√µes de C√°lculo: Complexidade + Duplica√ß√£o + Cobertura
    N√≠vel de Risco: Baixo/M√©dio/Alto/Cr√≠tico
    Sugest√µes de Pagamento: Ordena√ß√£o por prioridade
    Avalia√ß√£o de Impacto: Impacto na efici√™ncia de desenvolvimento

  Pontua√ß√£o de Risco de Seguran√ßa:
    Classifica√ß√£o de Risco: Cr√≠tico/Alto/M√©dio/Baixo
    Prioridade de Corre√ß√£o: Ordena√ß√£o autom√°tica
    Status de Conformidade: Monitoramento em tempo real
    An√°lise de Tend√™ncias: Tend√™ncia de mudan√ßa de risco

  Sa√∫de de Performance:
    Refer√™ncia de Performance: Estabelecida automaticamente
    Detec√ß√£o de Regress√£o: Alerta autom√°tico
    Oportunidades de Otimiza√ß√£o: Identifica√ß√£o inteligente
    Avalia√ß√£o de Efic√°cia: Avalia√ß√£o quantitativa
```

### üìã Gera√ß√£o de Relat√≥rios Inteligentes
```yaml
Tipos de Relat√≥rios:
  Relat√≥rio de Feedback em Tempo Real:
    Momento de Disparo: Ao enviar c√≥digo (commit)
    Foco do Conte√∫do: Problemas e sugest√µes imediatas
    Formato: Resumo conciso + Links detalhados
    Destinat√°rio: Desenvolvedor individual

  Relat√≥rio de Qualidade Di√°rio:
    Momento de Disparo: Gerado automaticamente todos os dias
    Foco do Conte√∫do: Tend√™ncias de qualidade e pontos de melhoria
    Formato: Gr√°ficos + Indicadores chave
    Destinat√°rio: L√≠der da equipe

  An√°lise Profunda Peri√≥dica:
    Momento de Disparo: Semanal/Mensal
    Foco do Conte√∫do: An√°lise profunda e sugest√µes estrat√©gicas
    Formato: Relat√≥rio detalhado + Plano de a√ß√£o
    Destinat√°rio: Gest√£o t√©cnica

  Relat√≥rio de Marcos do Projeto:
    Momento de Disparo: N√≥s importantes (milestones)
    Foco do Conte√∫do: Status de alcance da qualidade
    Formato: Avalia√ß√£o abrangente + Alerta de risco
    Destinat√°rio: Partes interessadas do projeto (stakeholders)
```

## üîÑ Aprendizado e Otimiza√ß√£o Cont√≠nuos

### üß† Mecanismo de Aprendizado
```yaml
Fontes de Dados de Aprendizado:
  Hist√≥rico de Altera√ß√µes de C√≥digo:
    - An√°lise de padr√µes de modifica√ß√£o
    - Registros de corre√ß√£o de defeitos
    - Avalia√ß√£o do efeito de refatora√ß√£o
    - Rastreamento de melhorias de performance

  Feedback de Revis√£o:
    - An√°lise de coment√°rios de revis√£o
    - Padr√µes de aceita√ß√£o/rejei√ß√£o
    - Efeito ap√≥s modifica√ß√£o
    - Prefer√™ncias do revisor

  Dados em Tempo de Execu√ß√£o:
    - Dados de monitoramento de performance
    - An√°lise de logs de erro
    - Dados de comportamento do usu√°rio
    - Indicadores de sa√∫de do sistema

  Conhecimento Externo:
    - Melhores pr√°ticas da ind√∫stria
    - Bancos de dados de vulnerabilidades de seguran√ßa
    - An√°lise de projetos de c√≥digo aberto
    - Feedback da comunidade t√©cnica
```

### üéØ Estrat√©gia de Otimiza√ß√£o
```yaml
Dimens√µes de Otimiza√ß√£o:
  Precis√£o de Detec√ß√£o:
    - Redu√ß√£o da taxa de falsos positivos
    - Controle da taxa de falsos negativos
    - Aumento da profundidade de detec√ß√£o
    - Fortalecimento da compreens√£o do contexto

  Qualidade das Sugest√µes:
    - Aumento da relev√¢ncia das sugest√µes
    - Fortalecimento da operabilidade
    - Aumento do grau de personaliza√ß√£o
    - Precis√£o na previs√£o de efeitos

  Efici√™ncia de Performance:
    - Otimiza√ß√£o da velocidade de an√°lise
    - Efici√™ncia no uso de recursos
    - Capacidade de processamento paralelo
    - Otimiza√ß√£o da estrat√©gia de cache

  Experi√™ncia do Usu√°rio:
    - Amigabilidade da interface
    - Tempestividade do feedback
    - Otimiza√ß√£o da curva de aprendizado
    - Conveni√™ncia de integra√ß√£o
```

## üõ†Ô∏è Integra√ß√£o e Configura√ß√£o de Ferramentas

### üîß Integra√ß√£o de Ferramentas MCP
```yaml
Orquestra√ß√£o de Ferramentas MCP:
  Ferramentas de An√°lise de C√≥digo:
    - codebase-retrieval: An√°lise sem√¢ntica
    - server-filesystem: Opera√ß√µes de arquivo
    - Ferramentas de an√°lise est√°tica: Verifica√ß√£o de regras
    - Ferramentas de varredura de seguran√ßa: Detec√ß√£o de vulnerabilidades

  Integra√ß√£o de Controle de Vers√£o:
    - server-github: Gerenciamento de PR
    - Git hooks: Disparo autom√°tico
    - Estrat√©gia de branches: Gate de qualidade
    - Estrat√©gia de mesclagem (merge): Mesclagem inteligente

  Notifica√ß√£o e Feedback:
    - mcp-feedback-enhanced: Feedback interativo
    - Notifica√ß√µes por e-mail: Problemas importantes
    - Mensagens instant√¢neas: Alertas em tempo real
    - Dashboard: Exibi√ß√£o visual
```

### ‚öôÔ∏è Gerenciamento de Configura√ß√£o
```yaml
Hierarquia de Configura√ß√£o:
  Configura√ß√£o Global:
    - Padr√µes de qualidade b√°sicos
    - Regras de verifica√ß√£o de seguran√ßa
    - Defini√ß√µes de baseline de performance
    - Configura√ß√£o da estrat√©gia de notifica√ß√£o

  Configura√ß√£o do Projeto:
    - Regras espec√≠ficas do projeto
    - Adapta√ß√£o da stack tecnol√≥gica
    - Customiza√ß√£o de regras de neg√≥cio
    - Defini√ß√µes de prefer√™ncia da equipe

  Configura√ß√£o Pessoal:
    - Defini√ß√µes de prefer√™ncia pessoal
    - Configura√ß√£o de n√≠vel de habilidade
    - Defini√ß√£o de objetivos de aprendizado
    - Ajuste da frequ√™ncia de feedback
```

## üéØ Exemplos de Uso

### üöÄ In√≠cio R√°pido
```bash
# Iniciar revis√£o de c√≥digo inteligente
/iniciar-revisao-inteligente [n√≠vel de rigor] [n√≠vel de automa√ß√£o]

# Exemplos
/iniciar-revisao-inteligente corporativo alta-automacao
/iniciar-revisao-inteligente padrao modo-equilibrado
/iniciar-revisao-inteligente flexivel liderado-por-humanos
```

### üé® Configura√ß√£o Personalizada
```bash
# Definir n√≠vel de rigor da revis√£o
/definir-nivel-revisao rigoroso      # Requisitos de qualidade m√°xima
/definir-nivel-revisao padrao        # Equil√≠brio entre qualidade e efici√™ncia
/definir-nivel-revisao flexivel      # Modo de desenvolvimento r√°pido

# Definir n√≠vel de corre√ß√£o autom√°tica
/definir-correcao-automatica agressivo     # Aplicar automaticamente todas as corre√ß√µes de seguran√ßa
/definir-correcao-automatica conservador   # Apenas corrigir automaticamente problemas de formata√ß√£o
/definir-correcao-automatica desativado    # Apenas fornecer sugest√µes, sem corre√ß√£o autom√°tica
```

---

**Nota**: Este arquivo de regra implementa um sistema de revis√£o de c√≥digo inteligente baseado em IA, fornecendo controle de qualidade em m√∫ltiplos n√≠veis e personalizado, aumentando significativamente a qualidade do c√≥digo e a efici√™ncia do desenvolvimento.