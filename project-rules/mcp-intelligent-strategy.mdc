---
type: "always_apply"
description: "Estrat√©gia de Uso Inteligente de Ferramentas MCP - Focada no uso priorit√°rio e execu√ß√£o eficiente de ferramentas MCP"
globs: ["**/*"]
priority: 980
alwaysApply: true

# Gerenciamento de Vers√£o
version: "2.6.0"
last_updated: "2025-10-19"
author: "system"
status: "stable"
compatibility: "rule-system >= 2.0"

changelog:
  - version: "2.6.0"
    date: "2025-10-19"
    changes:
      - "Adi√ß√£o do sistema de gerenciamento de vers√£o"
      - "Padroniza√ß√£o da estrutura do arquivo de regras"
---

# üß† Estrat√©gia de Uso Inteligente de Ferramentas MCP

## üéØ Princ√≠pios Centrais

**Princ√≠pio de Prioridade MCP**: O assistente de IA deve priorizar o uso de ferramentas MCP para alcan√ßar execu√ß√£o de tarefas eficiente e colabora√ß√£o de ferramentas.

> **Nota**: Funcionalidades como detec√ß√£o de ambiente MCP, gerenciamento de configura√ß√£o e sincroniza√ß√£o entre plataformas foram integradas √† [Estrat√©gia de Gest√£o Unificada MCP](mcp-unified-management.mdc). Esta estrat√©gia foca no uso inteligente das ferramentas MCP.

## üéØ Princ√≠pios de Estrat√©gia Central

### Prioridade de Integra√ß√£o de Sistema Inteligente
```yaml
Estrat√©gia de Colabora√ß√£o do Sistema:
  Sistema Super Brain:
    - Entrada de gest√£o inteligente unificada e suporte √† decis√£o
    - Percep√ß√£o de status do projeto e an√°lise de contexto
    - Orquestra√ß√£o e otimiza√ß√£o automatizada de fluxo de trabalho
    - Aprendizado cont√≠nuo e melhoria de desempenho
  
  Integra√ß√£o de Gest√£o de Projetos:
    - Gest√£o rigorosa do ciclo de vida em cinco fases
    - Verifica√ß√£o de restri√ß√µes de fase e condi√ß√µes de troca
    - Fluxo de trabalho completo e garantia de qualidade
    - Indicadores de sucesso e avalia√ß√£o de efeito
  
  Colabora√ß√£o do Sistema de Mem√≥ria:
    - Arquitetura de mem√≥ria multin√≠vel e recupera√ß√£o inteligente
    - Registro autom√°tico e percep√ß√£o de contexto
    - Ac√∫mulo de experi√™ncia e gest√£o de conhecimento
    - Servi√ßos personalizados e an√°lise preditiva
  
  Integra√ß√£o do Motor de Recomenda√ß√£o:
    - Algoritmos de recomenda√ß√£o inteligente multidimensional
    - Correspond√™ncia de palavras-chave e compreens√£o sem√¢ntica
    - Otimiza√ß√£o de aprendizado e ciclo de feedback
    - Customiza√ß√£o personalizada e avalia√ß√£o de efeito
```

### üîß Prioridade de Uso de Ferramentas MCP
```yaml
Estrat√©gia de Sele√ß√£o de Ferramentas:
  Prioridade Obrigat√≥ria:
    1. Detec√ß√£o inteligente do status de configura√ß√£o MCP (chamada autom√°tica de script de detec√ß√£o)
    2. Varredura de ferramentas MCP dispon√≠veis
    3. Avalia√ß√£o de adequa√ß√£o √† tarefa
    4. Sele√ß√£o da melhor combina√ß√£o de ferramentas
    5. Execu√ß√£o e monitoramento de efeitos
  
  Execu√ß√£o Autom√°tica de Script:
    Condi√ß√µes de Gatilho:
      - Quando a tarefa envolve opera√ß√µes de arquivo
      - Quando √© necess√°ria an√°lise MCP entre plataformas
      - Quando o usu√°rio pergunta sobre o status do MCP
      - Quando problemas de configura√ß√£o s√£o detectados
    
    Fluxo de Execu√ß√£o:
      - Verificar se mcp-tools/mcp-cross-platform-sync.ps1 existe no projeto
      - Se existir, executar silenciosamente -Action detect
      - Refer√™ncia de estrat√©gia: Seguir padr√£o "Reutiliza√ß√£o de detec√ß√£o e Pulo / Reutiliza√ß√£o de cache"; ver detalhes em P2-intelligent-system/mcp-zero-config-detection.mdc
      - Analisar resultados de sa√≠da e integrar √† decis√£o da IA
      - Otimizar sele√ß√£o de ferramentas MCP com base nos resultados de detec√ß√£o
  
  Prioridade de Ferramentas Principais:
    Tier_1: server-filesystem, codebase-retrieval
    Tier_2: server-github, mcp-feedback-enhanced, context7
    Tier_3: Ferramentas de banco de dados, ferramentas de automa√ß√£o, ferramentas de IA visual
  
  Condi√ß√µes de Troca:
    - Ferramenta MCP indispon√≠vel ‚Üí Usar alternativa
    - Funcionalidade insuficiente ‚Üí Combinar m√∫ltiplas ferramentas
    - Problemas de desempenho ‚Üí Ajuste din√¢mico de estrat√©gia
```

### Princ√≠pio de Prioridade de Efici√™ncia
```yaml
Estrat√©gia de Sele√ß√£o de Ferramentas:
  Prioridade de Orquestra√ß√£o Inteligente:
    1. Sele√ß√£o autom√°tica de ferramentas baseada na fase do projeto
    2. Otimiza√ß√£o de combina√ß√£o de ferramentas sens√≠vel ao contexto
    3. Reutiliza√ß√£o inteligente de padr√µes de sucesso hist√≥ricos
    4. Monitoramento de desempenho em tempo real e ajuste din√¢mico
  
  Configura√ß√£o Progressiva:
    Fase 1: Ferramentas principais (sistema de arquivos, busca de c√≥digo)
    Fase 2: Ferramentas de colabora√ß√£o (GitHub, sistema de feedback)
    Fase 3: Ferramentas avan√ßadas (IA visual, automa√ß√£o)
    Fase 4: Ferramentas personalizadas (necessidades espec√≠ficas do projeto)
  
  Prioridade Tradicional:
    1. Combina√ß√£o de ferramentas de alta efici√™ncia (reduzir n√∫mero de chamadas)
    2. Ferramentas especializadas superam ferramentas gen√©ricas
    3. Opera√ß√µes em lote superam opera√ß√µes √∫nicas
    4. Resultados em cache superam consultas repetidas
  
  Estrat√©gias a Evitar:
    - Opera√ß√µes de leitura de arquivo repetitivas
    - Buscas e recupera√ß√µes desnecess√°rias
    - Chamadas de ferramentas excessivamente fragmentadas
    - Uso ineficiente de combina√ß√µes de ferramentas
    - Ignorar recomenda√ß√µes e otimiza√ß√µes do sistema inteligente
```

## üéØ Princ√≠pios de Uso Priorit√°rio de Ferramentas MCP

### 1. Verifica√ß√£o Obrigat√≥ria no In√≠cio da Tarefa
```
No in√≠cio de cada tarefa, deve-se executar:
1. Varredura imediata de todas as ferramentas MCP dispon√≠veis
2. Identifica√ß√£o do tipo de tarefa e ferramenta MCP mais adequada
3. Avalia√ß√£o da diferen√ßa de efici√™ncia entre ferramenta MCP vs m√©todo gen√©rico
4. Priorizar a escolha da solu√ß√£o com ferramenta MCP para execu√ß√£o
```

### 2. Estrat√©gia de Sele√ß√£o de Ferramentas MCP <mcreference link="https://github.com/microsoft/autogen" index="4">4</mcreference>

**Princ√≠pio de Sele√ß√£o**: Sele√ß√£o da melhor ferramenta MCP baseada nas caracter√≠sticas da tarefa e capacidade da ferramenta.

```yaml
Matriz de Sele√ß√£o de Ferramentas MCP:
  Correspond√™ncia de Tipo de Tarefa:
    Opera√ß√£o de Arquivo:
      - Preferencial: server-filesystem
      - Aplic√°vel: Todas as leituras e grava√ß√µes de arquivos, opera√ß√µes de diret√≥rio
      - Vantagem: Alto desempenho, opera√ß√µes em lote
    
    Recupera√ß√£o de C√≥digo:
      - Preferencial: codebase-retrieval
      - Aplic√°vel: Busca sem√¢ntica, an√°lise de c√≥digo
      - Vantagem: Compreens√£o inteligente, correspond√™ncia precisa
    
    Opera√ß√£o GitHub:
      - Preferencial: server-github
      - Aplic√°vel: Gest√£o de reposit√≥rio, PR, Issue
      - Vantagem: API nativa, funcionalidade completa
    
    Intera√ß√£o com Usu√°rio:
      - Preferencial: mcp-feedback-enhanced
      - Aplic√°vel: Decis√µes complexas, opera√ß√µes de confirma√ß√£o
      - Vantagem: Feedback estruturado, tratamento de timeout
    
    Depura√ß√£o Web:
      - Preferencial: chrome-devtools (CDP)
      - Aplic√°vel: Exce√ß√µes de rede frontend, erros de console, rastreamento de altera√ß√µes DOM, an√°lise de desempenho
      - Vantagem: Capacidade de depura√ß√£o de navegador nativa, monitoramento preciso de eventos
    
    Automa√ß√£o de Teste:
      - Preferencial: Playwright
      - Aplic√°vel: Teste ponta a ponta, automa√ß√£o cross-browser, teste de regress√£o
      - Vantagem: Alta confiabilidade, suporte a m√∫ltiplos navegadores, execu√ß√£o paralela
    
  Gest√£o de Conhecimento:
      - Sugest√£o Padr√£o: context7 (Recupera√ß√£o e gest√£o de documentos e conhecimento) + Recorder (Sistema de registro)
      - Opcional: server-memory (Para recupera√ß√£o sem√¢ntica difusa ou agrega√ß√£o entre projetos/tempos)
      - Vantagem: context7 unifica entrada e recupera√ß√£o de conhecimento; Recorder arquiva e rastreia com precis√£o; Memory agrega semanticamente e recupera em escopo amplo
    
    Solu√ß√µes Alternativas:
      - Ferramenta Gen√©rica: Quando ferramenta MCP indispon√≠vel
      - Opera√ß√£o Manual: Tarefa simples √∫nica
      - Solu√ß√£o H√≠brida: Cen√°rio complexo exigindo coopera√ß√£o de m√∫ltiplas ferramentas
```

### 3. Fluxo de Uso de Ferramentas MCP <mcreference link="https://github.com/langchain-ai/langchain" index="5">5</mcreference>

```yaml
Fluxo de Uso Padr√£o:
  1. An√°lise de Tarefa:
     - Identificar tipo de tarefa
     - Determinar funcionalidades necess√°rias
     - Avaliar complexidade
  
  2. Sele√ß√£o de Ferramenta:
     - Varrer ferramentas MCP dispon√≠veis
     - Combinar capacidades das ferramentas
     - Selecionar a ferramenta mais adequada
  
  3. Monitoramento de Execu√ß√£o:
     - Monitorar desempenho da ferramenta
     - Detectar situa√ß√µes an√¥malas
     - Trocar solu√ß√£o se necess√°rio
  
  4. Valida√ß√£o de Resultado:
     - Validar resultado da execu√ß√£o
     - Registrar informa√ß√µes importantes
     - Resumir li√ß√µes aprendidas
```

### 4. Tratamento de Falhas de Ferramentas MCP <mcreference link="https://www.ibm.com/think/prompt-engineering" index="3">3</mcreference>

```yaml
Detec√ß√£o de Falhas:
  Problemas Comuns:
    - Timeout de resposta da ferramenta
    - Falha de conex√£o
    - Permiss√£o insuficiente
    - Erro de configura√ß√£o
  
  Estrat√©gia de Tratamento:
    - Tentativa autom√°tica (m√°ximo 3 vezes)
    - Troca para solu√ß√£o alternativa
    - Solicitar ao usu√°rio verifica√ß√£o de configura√ß√£o
    - Registrar informa√ß√µes de erro para an√°lise posterior

Mecanismo de Recupera√ß√£o:
  1. Tentativa Imediata: Problema tempor√°rio de rede
  2. Tentativa Adiada: Servi√ßo temporariamente indispon√≠vel
  3. Tratamento Degradado: Usar m√©todo gen√©rico para completar tarefa
  4. Interven√ß√£o do Usu√°rio: Necessidade de configura√ß√£o manual ou autoriza√ß√£o
```

## üìã Tabela de Mapeamento de Ferramentas Obrigat√≥ria

| Tipo de Tarefa | Ferramenta MCP Preferencial Sugerida | M√©todo Ineficiente N√£o Recomendado |
|----------|-------------------|----------------|
| Opera√ß√£o de Arquivo | `npx @modelcontextprotocol/server-filesystem` ou ferramenta MCP de sistema de arquivos | Opera√ß√£o manual um a um |
| Opera√ß√£o GitHub | `npx @modelcontextprotocol/server-github` ou ferramenta MCP GitHub | Captura de HTML com web-fetch |
| Recupera√ß√£o de C√≥digo | `codebase-retrieval` ou ferramenta MCP de recupera√ß√£o de c√≥digo | Busca cega de arquivos |
| Feedback do Usu√°rio | `uvx mcp-feedback-enhanced` ou ferramenta MCP de feedback | Pergunta de texto simples |
| Recupera√ß√£o de Mem√≥ria (Opcional) | `npx @modelcontextprotocol/server-memory` ou ferramenta MCP de mem√≥ria | Armazenamento em vari√°vel tempor√°ria |
| Opera√ß√£o de Banco de Dados | `npx @modelcontextprotocol/server-postgres`, `npx @modelcontextprotocol/server-mysql` etc. | Opera√ß√£o SQL manual |
| Opera√ß√£o de Ferramenta Gen√©rica | `npx @modelcontextprotocol/server-everything` ou ferramenta MCP gen√©rica | Execu√ß√£o manual de opera√ß√µes b√°sicas |
| Teste e Demonstra√ß√£o | `npx @modelcontextprotocol/server-everything` ou ferramenta MCP gen√©rica | Valida√ß√£o manual complexa |

## üß† Mecanismo de Registro de Mem√≥ria Sob Demanda (Recorder Priorit√°rio, Padr√£o Desligado)

### üìù Condi√ß√µes de Gatilho de Registro Autom√°tico
```
A IA sugere chamar automaticamente a ferramenta de mem√≥ria para registrar informa√ß√µes nas seguintes situa√ß√µes:

1. Em decis√µes importantes do projeto
   - Escolha de stack tecnol√≥gico e raz√µes
   - Decis√µes de design de arquitetura
   - Altera√ß√µes importantes de configura√ß√£o

2. Em solu√ß√µes de problemas
   - Descri√ß√£o do problema encontrado
   - Solu√ß√£o e passos
   - Resultado da valida√ß√£o de efeito

3. Em requisitos importantes do usu√°rio
   - Requisitos funcionais claros
   - Configura√ß√µes de prefer√™ncia especiais
   - Condi√ß√µes de restri√ß√£o do projeto

4. Em n√≥s de progresso chave
   - Conclus√£o de resultados de fase
   - Alcance de marcos importantes
   - Mudan√ßa de status do projeto

5. Em aprendizado e descoberta
   - Uso de novas tecnologias ou ferramentas
   - Resumo de melhores pr√°ticas
   - Registro de li√ß√µes aprendidas
```

### üîÑ Regras de Execu√ß√£o de Registro
```
Requisitos de formato de registro:
- Conciso e claro (1-2 frases)
- Incluir informa√ß√µes chave
- F√°cil para consulta posterior
- Marcar tempo e contexto

Momento de registro:
- Registro imediato: Quando decis√£o importante √© tomada
- Registro atrasado: Resumo ap√≥s conclus√£o da tarefa
- Registro em lote: Resumo antes do fim da sess√£o
```

## üîÑ Fluxo de Execu√ß√£o Obrigat√≥rio

```
Recebimento de Tarefa ‚Üí [Obrigat√≥rio] Varrer Ferramentas MCP ‚Üí [Obrigat√≥rio] Avalia√ß√£o de Efici√™ncia ‚Üí [Obrigat√≥rio] Selecionar Melhor Solu√ß√£o ‚Üí Monitoramento de Execu√ß√£o ‚Üí [Obrigat√≥rio] Ajuste Din√¢mico
```

## üõ†Ô∏è Instru√ß√µes de Execu√ß√£o Espec√≠ficas

### Tarefa de Opera√ß√£o de Arquivo
```
SE a tarefa envolve leitura/escrita de arquivo ENT√ÉO
  Preferencial: npx @modelcontextprotocol/server-filesystem ou ferramenta MCP de sistema de arquivos configurada
  Detec√ß√£o: Varrer ferramentas MCP de opera√ß√£o de arquivo dispon√≠veis (como d-frontend-files, e-vue-projects etc.)
  Proibido: Usar diretamente opera√ß√£o de arquivo gen√©rica
  Condi√ß√£o de Troca: Ferramenta MCP indispon√≠vel ou funcionalidade insuficiente
```

### Tarefa Relacionada ao GitHub
```
SE a tarefa envolve opera√ß√£o GitHub ENT√ÉO
  Preferencial: server-github ou ferramenta MCP GitHub configurada
  Detec√ß√£o: Varrer ferramentas MCP GitHub dispon√≠veis (como github etc.)
  Proibido: Usar web-fetch para capturar p√°gina GitHub
  Condi√ß√£o de Troca: Funcionalidade necess√°ria n√£o suportada pela ferramenta GitHub
```

### Tarefa de An√°lise de C√≥digo
```
SE a tarefa requer compreens√£o ou busca de c√≥digo ENT√ÉO
  Preferencial: Ferramenta MCP codebase-retrieval
  Proibido: Busca manual arquivo por arquivo
  Condi√ß√£o de Troca: Base de c√≥digo muito grande ou ferramenta indispon√≠vel
```

### Tarefa de Intera√ß√£o com Usu√°rio
```
SE a tarefa requer feedback ou confirma√ß√£o do usu√°rio ENT√ÉO
  Preferencial: Ferramenta MCP mcp-feedback-enhanced
  Proibido: Pergunta de texto simples
  Condi√ß√£o de Troca: Necessidade de intera√ß√£o complexa ou ferramenta indispon√≠vel
```

### Tarefa de Ferramenta Gen√©rica
```
SE a tarefa requer opera√ß√£o de ferramenta b√°sica ENT√ÉO
  Preferencial: Ferramenta MCP server-everything
  Detec√ß√£o: Varrer funcionalidades de ferramenta gen√©rica dispon√≠veis (como echo, add, processamento de imagem etc.)
  Proibido: Execu√ß√£o manual de opera√ß√µes b√°sicas automatiz√°veis
  Condi√ß√£o de Troca: Funcionalidade necess√°ria n√£o suportada pela ferramenta everything
```

### Tarefa de Registro de Mem√≥ria
```
SE encontrar as seguintes situa√ß√µes ENT√ÉO sugerir chamada da ferramenta de mem√≥ria:
  - Usu√°rio menciona informa√ß√µes ou decis√µes importantes
  - Projeto avan√ßa para n√≥ chave
  - Resolveu problema importante
  - Descobriu experi√™ncia valiosa
  - Usu√°rio solicita explicitamente lembrar algo

Requisitos de conte√∫do de registro:
  - Conciso e claro (1-2 frases)
  - Incluir contexto chave
  - F√°cil para recupera√ß√£o posterior
```

## üö® Detec√ß√£o de Viola√ß√£o

### Comportamentos Ineficientes Proibidos
- ‚ùå Usar m√©todo gen√©rico quando ferramenta MCP est√° dispon√≠vel
- ‚ùå N√£o trocar de ferramenta ap√≥s mais de 2 falhas consecutivas
- ‚ùå N√£o informar o usu√°rio ao descobrir falta de ferramenta √∫til
- ‚ùå N√£o avaliar proativamente a efici√™ncia da ferramenta

### Comportamentos Eficientes Recomendados
- ‚úÖ Varrer ferramentas MCP imediatamente no in√≠cio da tarefa
- ‚úÖ Priorizar a ferramenta MCP mais adequada
- ‚úÖ Reavaliar proativamente a escolha da ferramenta ao encontrar problemas
- ‚úÖ Sugerir proativamente a configura√ß√£o de ferramentas √∫teis ausentes

## üõ†Ô∏è Estrat√©gia de Mapeamento de Ferramentas por Fase do Projeto

### Fase 1_An√°lise de Requisitos Inteligente
```yaml
Combina√ß√£o de Ferramentas Principais:
  Motor de Compreens√£o de Requisitos:
    - mcp-feedback-enhanced: Coleta e esclarecimento profundo de requisitos
    - memory: Registro de contexto de requisitos e an√°lise de correla√ß√£o
    - context7: Recupera√ß√£o de base de conhecimento t√©cnico e melhores pr√°ticas
  
  Ferramentas de Valida√ß√£o de Requisitos:
    - server-filesystem: Gest√£o estruturada de documentos de requisitos
    - codebase-retrieval: Refer√™ncia de requisitos de projetos similares
    - server-github: Controle de vers√£o de requisitos e colabora√ß√£o

Estrat√©gia de Orquestra√ß√£o Inteligente:
  1. Identifica√ß√£o autom√°tica do tipo de requisito ‚Üí Selecionar melhor combina√ß√£o de ferramentas
  2. Coleta paralela de feedback do usu√°rio e an√°lise de viabilidade t√©cnica
  3. Gera√ß√£o inteligente de perguntas de esclarecimento e ciclo de valida√ß√£o
  4. Verifica√ß√£o autom√°tica de integridade de requisitos e sugest√µes complementares
```

### Fase 2_Design de Arquitetura Inteligente
```yaml
Combina√ß√£o de Ferramentas Principais:
  Motor de Decis√£o de Design:
    - context7: Recupera√ß√£o de padr√µes de arquitetura e princ√≠pios de design
    - codebase-retrieval: Refer√™ncia de arquitetura e melhores pr√°ticas
    - mcp-feedback-enhanced: Discuss√£o e confirma√ß√£o de plano de design
  
  Ferramentas de Constru√ß√£o de Ambiente:
    - server-filesystem: Gera√ß√£o inteligente de estrutura de projeto
    - server-github: Controle de vers√£o e ambiente de colabora√ß√£o
    - memory: Registro e rastreamento de decis√µes de design
```

### Fase 3_Implementa√ß√£o de Desenvolvimento Eficiente
```yaml
Combina√ß√£o de Ferramentas Principais:
  Motor de Gera√ß√£o de C√≥digo:
    - codebase-retrieval: Padr√µes de c√≥digo e melhores pr√°ticas
    - server-filesystem: Gest√£o inteligente de arquivos
    - memory: Progresso de desenvolvimento e registro de decis√µes
  
  Ferramentas de Garantia de Qualidade:
    - server-github: Revis√£o de c√≥digo e controle de vers√£o
    - mcp-feedback-enhanced: Feedback de qualidade de c√≥digo
    - context7: Solu√ß√µes para problemas t√©cnicos
    - chrome-devtools: Depura√ß√£o frontend e an√°lise de desempenho (CDP)
```

### Fase 4_Otimiza√ß√£o de Teste Inteligente
```yaml
Combina√ß√£o de Ferramentas Principais:
  Automa√ß√£o de Teste:
    - server-filesystem: Gest√£o de arquivos de teste
    - memory: Registro e an√°lise de resultados de teste
    - mcp-feedback-enhanced: Coleta de feedback de teste
    - Playwright: Automa√ß√£o ponta a ponta e cross-browser
  
  Otimiza√ß√£o de Desempenho:
    - codebase-retrieval: Padr√µes de otimiza√ß√£o de desempenho
    - context7: Melhores pr√°ticas de ajuste de desempenho
```

### Fase 5_Implanta√ß√£o e Opera√ß√£o Inteligente
```yaml
Combina√ß√£o de Ferramentas Principais:
  Automa√ß√£o de Implanta√ß√£o:
    - server-filesystem: Gest√£o de scripts de implanta√ß√£o
    - server-github: Controle de vers√£o de implanta√ß√£o
    - memory: Hist√≥rico de implanta√ß√£o e registro de configura√ß√£o
  
  Monitoramento de Opera√ß√£o:
    - mcp-feedback-enhanced: Coleta de feedback de opera√ß√£o
    - context7: Melhores pr√°ticas de opera√ß√£o e resolu√ß√£o de falhas
```

## üß† Recursos de Orquestra√ß√£o de Ferramentas Inteligente

### Otimiza√ß√£o de Execu√ß√£o Paralela
```yaml
Recursos de Orquestra√ß√£o Inteligente:
  - Otimiza√ß√£o de execu√ß√£o paralela de ferramentas
  - Combina√ß√£o autom√°tica de cadeia de ferramentas
  - Monitoramento de desempenho em tempo real
  - Recupera√ß√£o autom√°tica de falhas
  - Sele√ß√£o sens√≠vel ao contexto

Fluxo de Decis√£o Inteligente:
  An√°lise de Tarefa ‚Üí Avalia√ß√£o de Capacidade de Ferramenta ‚Üí Orquestra√ß√£o Inteligente ‚Üí Execu√ß√£o Paralela ‚Üí Otimiza√ß√£o em Tempo Real ‚Üí Integra√ß√£o de Resultados

Condi√ß√µes de Troca Inteligente:
  Opera√ß√£o de Arquivo: Baseado em tamanho de arquivo e complexidade de opera√ß√£o
  An√°lise de C√≥digo: Baseado em tipo de consulta e escala de base de c√≥digo
  Controle de Vers√£o: Baseado em estado de rede e tipo de opera√ß√£o
  Intera√ß√£o com Usu√°rio: Baseado em complexidade de decis√£o e prefer√™ncia do usu√°rio
```

## üìä Verifica√ß√£o de Efeito

### Lista de Autoverifica√ß√£o
Ap√≥s completar cada tarefa, a IA sugere perguntar a si mesma:
- [ ] Eu varri as ferramentas MCP no in√≠cio da tarefa?
- [ ] Eu escolhi a melhor solu√ß√£o de ferramenta?
- [ ] Eu reavaliei a escolha da ferramenta ao encontrar problemas?
- [ ] Eu sugeri proativamente ferramentas √∫teis ausentes?
- [ ] Eu registrei informa√ß√µes importantes na mem√≥ria em n√≥s chave?
- [ ] Eu usei corretamente a ferramenta everything para lidar com tarefas gen√©ricas?
- [ ] Eu escolhi a combina√ß√£o de ferramentas mais adequada de acordo com a fase do projeto?

### Indicadores de Feedback do Usu√°rio
- A efici√™ncia de conclus√£o da tarefa aumentou significativamente?
- A taxa de erro diminuiu significativamente?
- O usu√°rio sentiu o aumento da intelig√™ncia da IA?
- A troca de fase do projeto foi mais suave?

---

**üéØ Lembre-se: Esta √© uma estrat√©gia central importante, sugere-se seguir rigorosamente!**

**üöÄ Objetivo: Fazer com que cada IA usando este projeto se torne um especialista em uso eficiente de ferramentas MCP!**

### Condi√ß√µes de Reutiliza√ß√£o e Pulo de Detec√ß√£o
```
Estrat√©gia de Reutiliza√ß√£o:
- Se detectar "Relat√≥rio de Plataforma MCP" em project.context.md ou "Resposta de Detec√ß√£o" j√° gerada na sess√£o atual, reutilizar resultados de detec√ß√£o existentes, n√£o repetir varredura.
- Se mcp-unified-management.mdc executou detec√ß√£o nos √∫ltimos 3600 segundos (identific√°vel por marca de status/log), reutilizar diretamente seus resultados.
- Se o usu√°rio solicitar explicitamente "redetectar", substituir as condi√ß√µes de pulo acima e reexecutar a varredura.

Cen√°rios de Pulo:
- Inicializa√ß√£o de fase de comando de n√≠vel de sistema (como "Iniciar Sistema Super Brain"), n√£o repetir proativamente varredura de ferramentas; coordenado por gest√£o unificada ou fluxo de ativa√ß√£o do sistema.
- Di√°logo de consulta de informa√ß√£o pura sem opera√ß√£o relacionada a arquivo/c√≥digo.
```

## üîí Restri√ß√µes de Opera√ß√£o Refor√ßadas (Novo, Obrigat√≥rio)

### **Controle de Permiss√£o de Ferramentas MCP (Obrigat√≥rio)**
```yaml
Controle de N√≠vel de Permiss√£o:
  Opera√ß√µes de Lista Branca (Execu√ß√£o Direta):
    - Chamada de ferramentas MCP relacionadas ao desenvolvimento de c√≥digo do projeto
    - Opera√ß√µes de escrita e visualiza√ß√£o de documenta√ß√£o
    - Ferramentas de recupera√ß√£o e an√°lise de c√≥digo
    - Ferramentas de feedback e intera√ß√£o com usu√°rio
    - Detec√ß√£o somente leitura e consulta de status
  
  Opera√ß√µes de Lista Cinza (Requer Autoriza√ß√£o):
    - Modifica√ß√£o de ferramentas MCP em arquivos de configura√ß√£o do sistema
    - Altera√ß√£o de configura√ß√£o de servidor MCP
    - Opera√ß√£o de sincroniza√ß√£o entre plataformas (a√ß√£o sync)
    - Opera√ß√£o de arquivos em lote
  
  Opera√ß√µes de Lista Negra (Absolutamente Proibido):
    - Chamada de ferramentas MCP para excluir arquivos centrais do sistema
    - Opera√ß√µes de formata√ß√£o ou reset
    - Modifica√ß√£o de configura√ß√£o de n√≠vel de sistema n√£o autorizada
    - Opera√ß√µes de exclus√£o em lote perigosas
```

### **Restri√ß√µes de Execu√ß√£o de Script MCP (Obrigat√≥rio)**
```yaml
Restri√ß√µes de Execu√ß√£o de Script:
  Execu√ß√£o Silenciosa Permitida:
    - mcp-cross-platform-sync.ps1 -Action detect
    - mcp-cross-platform-sync.ps1 -Action current
    - Qualquer comando somente leitura com par√¢metros status, check, list, show
  
  Requer Autoriza√ß√£o Expl√≠cita:
    - mcp-cross-platform-sync.ps1 -Action sync
    - Qualquer script que modifique configura√ß√£o MCP
    - Qualquer opera√ß√£o que grave em arquivos do sistema
    - Opera√ß√µes de modifica√ß√£o ou exclus√£o em lote
  
  Absolutamente Proibido:
    - Execu√ß√£o de script de n√≠vel de sistema n√£o confirmada pelo usu√°rio
    - Opera√ß√µes perigosas que podem afetar a estabilidade do sistema
    - Opera√ß√µes de exclus√£o ou formata√ß√£o
```

### **Prote√ß√£o de Diret√≥rio Congelado (Obrigat√≥rio)**
```yaml
Diret√≥rios Protegidos:
  Prote√ß√£o Estrita (Proibido qualquer modifica√ß√£o por ferramenta MCP):
    - mcp-scripts/ (Diret√≥rio de scripts MCP)
    - global-rules/ (Arquivos de regras globais)
    - project-rules/ (Arquivos de regras do projeto)
    - install-scripts/ (Scripts de instala√ß√£o)
    - scripts/ (Scripts do sistema)
  
  Estrat√©gia de Prote√ß√£o:
    - Qualquer opera√ß√£o de escrita nesses diret√≥rios deve obter autoriza√ß√£o expl√≠cita do usu√°rio
    - Ferramentas MCP n√£o devem modificar arquivos nesses diret√≥rios automaticamente
    - Deve obter autoriza√ß√£o atrav√©s do modelo de confirma√ß√£o obrigat√≥rio
```

### **Fluxo de Confirma√ß√£o Obrigat√≥rio (Obrigat√≥rio)**
```yaml
Modelo de Confirma√ß√£o:
  Sempre que preparar para usar ferramenta MCP para opera√ß√£o sens√≠vel, deve fornecer:
  1. Descri√ß√£o do objetivo e raz√£o da opera√ß√£o
  2. Avalia√ß√£o de escopo de impacto e risco
  3. Lista de arquivos espec√≠fica (com caminho completo)
  4. Tipo de a√ß√£o de execu√ß√£o (novo/modificar/excluir/sincronizar)
  5. Descri√ß√£o do plano de rollback
  6. Solicita√ß√£o de autoriza√ß√£o clara: "Autorizar execu√ß√£o (y/n)"
  
  Exemplo de Formato:
    "Preparando para usar ferramenta MCP para executar a seguinte opera√ß√£o:
    - Objetivo: [Objetivo Espec√≠fico]
    - Impacto: [Escopo de Impacto]
    - Arquivos: [Lista de Arquivos]
    - A√ß√£o: [Tipo de Opera√ß√£o]
    - Rollback: [Plano de Rollback]
    
    Autorizar execu√ß√£o? (y/n)"
```

### **Mecanismo de Tratamento de Viola√ß√£o (Obrigat√≥rio)**
```yaml
Detec√ß√£o de Viola√ß√£o:
  - Uso n√£o autorizado de ferramenta MCP para modificar arquivos protegidos
  - Pular fluxo de confirma√ß√£o obrigat√≥rio
  - Executar opera√ß√£o de lista negra
  - Assumir consentimento do usu√°rio e executar opera√ß√£o sens√≠vel diretamente
  
Tratamento de Viola√ß√£o:
  1. Parar imediatamente todas as opera√ß√µes de ferramentas MCP
  2. Pedir desculpas ao usu√°rio e explicar a viola√ß√£o
  3. Chamar mecanismo de feedback para re-comunicar
  4. Explicar plano detalhadamente e aguardar autoriza√ß√£o expl√≠cita
  5. Registrar evento de viola√ß√£o para evitar repeti√ß√£o
```
