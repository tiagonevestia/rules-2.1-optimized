---
type: "workflow_rule"
description: "Checklist de revis√£o de pull request multi-papel"
globs: ["**/*"]
priority: 602
alwaysApply: false

# Gerenciamento de Vers√£o
version: "2.6.0"
last_updated: "2025-10-19"
author: "system"
status: "stable"
compatibility: "rule-system >= 2.0"

changelog:
  - version: "2.6.0"
    date: "2025-10-19"
    changes:
      - "Adi√ß√£o do sistema de gerenciamento de vers√£o"
      - "Padroniza√ß√£o da estrutura do arquivo de regras"
---

# üîç Code Review Workflow - Fluxo de Trabalho de Revis√£o de C√≥digo

Lista de verifica√ß√£o de revis√£o de pull request multi-papel, garantindo a qualidade do c√≥digo e a colabora√ß√£o da equipe.

## üöÄ Commands - Comandos

- `/code-review` - Iniciar processo de revis√£o de c√≥digo
- `/review-checklist` - Exibir lista de verifica√ß√£o de revis√£o
- `/security-review` - Revis√£o de seguran√ßa
- `/performance-review` - Revis√£o de performance

## üë• Review Roles - Pap√©is de Revis√£o

### üßë‚Äçüíª Developer Review - Revis√£o do Desenvolvedor
**Foco: L√≥gica do c√≥digo, legibilidade, melhores pr√°ticas**

#### Checklist - Lista de Verifica√ß√£o
- [ ] **L√≥gica correta** - Implementa√ß√£o atende aos requisitos, l√≥gica clara
- [ ] **Conven√ß√µes de nomenclatura** - Vari√°veis, fun√ß√µes e classes com nomes significativos e consistentes
- [ ] **Reutiliza√ß√£o de c√≥digo** - Evitar c√≥digo duplicado, abstra√ß√£o razo√°vel
- [ ] **Tratamento de erros** - Tratamento adequado de exce√ß√µes e condi√ß√µes de contorno
- [ ] **Qualidade dos coment√°rios** - L√≥gica complexa com coment√°rios claros
- [ ] **Estilo de c√≥digo** - Seguir as normas de codifica√ß√£o do projeto

#### Questions to Ask - Perguntas para Revis√£o
- Este c√≥digo √© f√°cil de entender e manter?
- Existe uma maneira mais concisa de implementar isso?
- O tratamento de erros √© suficiente?
- Os princ√≠pios SOLID foram seguidos?

### üèóÔ∏è Architecture Review - Revis√£o de Arquitetura
**Foco: Padr√µes de projeto, arquitetura do sistema, extensibilidade**

#### Checklist - Lista de Verifica√ß√£o
- [ ] **Padr√µes de projeto** - Uso de padr√µes de projeto adequados
- [ ] **Divis√£o de m√≥dulos** - Separa√ß√£o de responsabilidades, limites de m√≥dulo claros
- [ ] **Gerenciamento de depend√™ncias** - Inje√ß√£o de depend√™ncia, evitar depend√™ncias circulares
- [ ] **Design de interface** - Design de API razo√°vel, compatibilidade reversa
- [ ] **Extensibilidade** - C√≥digo f√°cil de estender e modificar
- [ ] **Considera√ß√µes de desempenho** - Complexidade de algoritmo razo√°vel

#### Questions to Ask - Perguntas para Revis√£o
- Este design est√° em conformidade com a arquitetura geral do sistema?
- Foi introduzida complexidade desnecess√°ria?
- Como lidar com futuras mudan√ßas de requisitos?
- Existem gargalos de desempenho potenciais?

### üîí Security Review - Revis√£o de Seguran√ßa
**Foco: Vulnerabilidades de seguran√ßa, prote√ß√£o de dados, controle de permiss√µes**

#### Checklist - Lista de Verifica√ß√£o
- [ ] **Valida√ß√£o de entrada** - Toda entrada do usu√°rio √© validada
- [ ] **Prote√ß√£o contra inje√ß√£o SQL** - Uso de consultas parametrizadas
- [ ] **Prote√ß√£o contra XSS** - Codifica√ß√£o de sa√≠da, configura√ß√£o de CSP
- [ ] **Autentica√ß√£o e Autoriza√ß√£o** - Verifica√ß√£o de permiss√µes completa
- [ ] **Dados sens√≠veis** - Armazenamento seguro de senhas, tokens, etc.
- [ ] **Uso de HTTPS** - Opera√ß√µes sens√≠veis usam HTTPS

#### Questions to Ask - Perguntas para Revis√£o
- Existem vulnerabilidades de seguran√ßa potenciais?
- Os dados sens√≠veis est√£o devidamente protegidos?
- O controle de permiss√µes √© suficientemente rigoroso?
- As melhores pr√°ticas de seguran√ßa foram seguidas?

### ‚ö° Performance Review - Revis√£o de Performance
**Foco: Otimiza√ß√£o de performance, uso de recursos, extensibilidade**

#### Checklist - Lista de Verifica√ß√£o
- [ ] **Efici√™ncia de algoritmo** - Complexidade de tempo e espa√ßo razo√°vel
- [ ] **Consultas de banco de dados** - Otimiza√ß√£o de consultas, evitar problema N+1
- [ ] **Estrat√©gia de cache** - Uso razo√°vel de cache
- [ ] **Gerenciamento de recursos** - Vazamento de mem√≥ria, gerenciamento de pool de conex√µes
- [ ] **Processamento concorrente** - Thread safety, preven√ß√£o de deadlock
- [ ] **Indicadores de monitoramento** - Monitoramento de indicadores-chave de performance

#### Questions to Ask - Perguntas para Revis√£o
- Como este c√≥digo se comporta sob alta carga?
- Existe espa√ßo para otimiza√ß√£o de performance?
- O uso de recursos √© razo√°vel?
- Como monitorar e depurar problemas de performance?

## üìã Review Process - Processo de Revis√£o

### 1. Pre-Review Preparation - Prepara√ß√£o Pr√©-Revis√£o
```bash
# Verificar informa√ß√µes do PR
- PR t√≠tulo e descri√ß√£o claros
- Associar Issue relacionado
- Incluir casos de teste
- Verifica√ß√£o CI/CD aprovada
```

### 2. Code Review Steps - Passos de Revis√£o de C√≥digo

#### Passo 1: Vis√£o Geral
- Entender o objetivo e escopo do PR
- Verificar lista de altera√ß√µes de arquivos
- Avaliar o escopo de impacto das altera√ß√µes

#### Passo 2: Revis√£o Detalhada
- Revisar altera√ß√µes de c√≥digo arquivo por arquivo
- Aplicar lista de verifica√ß√£o do papel correspondente
- Marcar problemas e sugest√µes de melhoria

#### Passo 3: Revis√£o de Testes
- Verificar cobertura de testes
- Validar qualidade dos casos de teste
- Confirmar testes de condi√ß√£o de contorno

#### Passo 4: Revis√£o de Documenta√ß√£o
- Atualiza√ß√£o da documenta√ß√£o da API
- README e guia de uso
- Integridade dos coment√°rios de c√≥digo

### 3. Feedback Guidelines - Diretrizes de Feedback

#### Classifica√ß√£o de Feedback
- **üö® Critical** - Problema importante, corre√ß√£o sugerida
- **üí° Suggestion** - Sugest√£o de melhoria
- **‚ùì Question** - Pergunta para esclarecimento
- **üëç Praise** - Boa pr√°tica digna de elogio

#### Exemplo de Feedback
```markdown
üö® Must Fix: Existe risco de inje√ß√£o SQL aqui
Sugere-se usar consulta parametrizada: `SELECT * FROM users WHERE id = ?`

üí° Suggestion: Considere usar o padr√£o Factory para criar diferentes tipos de processadores
Isso pode aumentar a extensibilidade do c√≥digo

‚ùì Question: Por que escolheu este algoritmo?
Considerou o impacto da complexidade de tempo?

üëç Praise: Tratamento de erros muito completo, condi√ß√µes de contorno bem consideradas
```

## üõ†Ô∏è Tools Integration - Integra√ß√£o de Ferramentas

### Automated Checks - Verifica√ß√µes Automatizadas
```yaml
# GitHub Actions Á§∫‰æã
name: Code Review Automation
on: [pull_request]
jobs:
  code-quality:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Run ESLint
        run: npm run lint
      - name: Run Tests
        run: npm test
      - name: Security Scan
        run: npm audit
      - name: Performance Test
        run: npm run perf-test
```

### Review Templates - Modelos de Revis√£o
```markdown
## Code Review Checklist

### Developer Review
- [ ] Code logic is correct
- [ ] Naming conventions followed
- [ ] Error handling appropriate
- [ ] Code is readable and maintainable

### Security Review
- [ ] Input validation implemented
- [ ] No SQL injection vulnerabilities
- [ ] Authentication/authorization proper
- [ ] Sensitive data protected

### Performance Review
- [ ] Algorithm efficiency acceptable
- [ ] Database queries optimized
- [ ] Resource usage reasonable
- [ ] Monitoring in place
```

## üìä Review Metrics - M√©tricas de Revis√£o

### Quality Metrics - M√©tricas de Qualidade
- **Review Coverage** - Cobertura de Revis√£o
- **Defect Detection Rate** - Taxa de Detec√ß√£o de Defeitos
- **Review Turnaround Time** - Tempo de Retorno da Revis√£o
- **Rework Rate** - Taxa de Retrabalho

### Tracking Template - Modelo de Rastreamento
```markdown
## Review Summary
- **Reviewer**: @username
- **Review Time**: 30 minutes
- **Issues Found**: 3 must-fix, 2 suggestions
- **Security Issues**: 1
- **Performance Issues**: 0
- **Overall Rating**: Approve with changes
```

## ‚úÖ Best Practices - Melhores Pr√°ticas

### Para Revisores
- **Revis√£o oportuna** - Concluir revis√£o em 24 horas
- **Feedback construtivo** - Fornecer sugest√µes espec√≠ficas de melhoria
- **Equilibrar rigor** - Garantir qualidade, mas considerar efici√™ncia
- **Mentalidade de aprendizado** - Aprender novas tecnologias e m√©todos com o c√≥digo

### Para Autores
- **Pequeno e frequente** - Manter tamanho do PR razo√°vel (<400 linhas)
- **Descri√ß√£o clara** - Explicar detalhadamente o conte√∫do e a raz√£o das altera√ß√µes
- **Auto-revis√£o** - Revisar a si mesmo antes de enviar
- **Resposta ativa** - Responder prontamente aos coment√°rios de revis√£o

### Para Equipes
- **Cultura de revis√£o** - Estabelecer uma cultura positiva de revis√£o de c√≥digo
- **Compartilhamento de conhecimento** - Compartilhar melhores pr√°ticas atrav√©s da revis√£o
- **Melhoria cont√≠nua** - Revisar e melhorar regularmente o processo de revis√£o
- **Suporte de ferramentas** - Usar ferramentas adequadas para aumentar a efici√™ncia
